# ربات تلگرام انجمن مهندسی شیمی

این ربات برای مدیریت انجمن علمی مهندسی شیمی طراحی شده است و شامل امکانات زیر می‌باشد:

## امکانات

### برای کاربران عادی:
- ثبت‌نام و احراز هویت دانشجویان
- مشاهده اعلان‌ها و اخبار
- ثبت‌نام در رویدادها
- دسترسی به منابع آموزشی
- پرسش سوال و دریافت پاسخ
- مشاهده پروفایل کاربری

### برای مدیران:
- تایید یا رد درخواست‌های عضویت
- انتشار اعلان‌های عمومی
- ایجاد و مدیریت رویدادها
- مشاهده آمار ربات
- مدیریت محتوا

## نصب و راه‌اندازی

### پیش‌نیازها:
- Python 3.8 یا بالاتر
- حساب کاربری Supabase
- توکن ربات تلگرام از BotFather

### مراحل نصب:

1. نصب وابستگی‌ها:
```bash
pip install -r requirements.txt
```

2. تنظیم متغیرهای محیطی:
فایل `.env` را ویرایش کنید و اطلاعات زیر را وارد کنید:

```
TELEGRAM_BOT_TOKEN=توکن_ربات_تلگرام_شما
VITE_SUPABASE_URL=آدرس_پروژه_supabase
VITE_SUPABASE_ANON_KEY=کلید_عمومی_supabase
```

3. اجرای ربات:
```bash
python main_bot.py
```

## ساختار دیتابیس

ربات از Supabase به عنوان دیتابیس استفاده می‌کند و شامل جداول زیر است:

- **users**: اطلاعات کاربران
- **announcements**: اعلان‌ها و اخبار
- **events**: رویدادها و همایش‌ها
- **event_registrations**: ثبت‌نام کاربران در رویدادها
- **resources**: منابع آموزشی
- **questions**: سوالات کاربران
- **answers**: پاسخ‌ها به سوالات
- **bot_settings**: تنظیمات ربات

## دستورات ربات

### دستورات عمومی:
- `/start` - شروع کار با ربات
- `/register` - ثبت‌نام در سیستم
- `/ask` - پرسیدن سوال جدید
- `/upload` - آپلود منبع آموزشی
- `/cancel` - لغو عملیات جاری

### دستورات مدیریتی:
- `/announce` - انتشار اعلان جدید (فقط مدیران)
- `/createevent` - ایجاد رویداد جدید (فقط مدیران)

## امنیت

- تمام جداول دارای Row Level Security (RLS) هستند
- کاربران فقط به اطلاعات مجاز خود دسترسی دارند
- عملیات مدیریتی فقط برای ادمین‌ها قابل دسترسی است
- اطلاعات شخصی کاربران محافظت شده است

## نقش‌های کاربری

1. **member**: کاربر عادی با دسترسی به امکانات پایه
2. **admin**: مدیر با دسترسی به پنل مدیریت
3. **superadmin**: مدیر ارشد با دسترسی کامل

## پشتیبانی

برای گزارش مشکلات یا پیشنهادات، لطفا با تیم توسعه تماس بگیرید.

## مجوز

این پروژه تحت مجوز MIT منتشر شده است.
